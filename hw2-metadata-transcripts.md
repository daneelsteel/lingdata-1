## Домашнее задание 2

*Дедлайн: 23:59 в день перед семинаром*

#### Разработка фрагмента корпуса, часть 1 (ELAN-1)  

Это домашнее задание предполагает, что каждый из вас подобрал себе материал для разметки. [Как подобрать](https://github.com/olesar/lingdata/blob/gh-pages/livecorpus-intro.md)  
Задание состоит из двух частей - метаразметки и разметки реплик говорящих в ELAN. Сохраните видео на локальный компьютер (например, [так](https://ru.savefrom.net/1-%D0%B1%D1%8B%D1%81%D1%82%D1%80%D1%8B%D0%B9-%D1%81%D0%BF%D0%BE%D1%81%D0%BE%D0%B1-%D1%81%D0%BA%D0%B0%D1%87%D0%B0%D1%82%D1%8C-%D1%81-youtube/)), 
а в конце работы загрузите файл разметки (он имеет расширение .eaf) на GitHub.

### Метаразметка записей  

Добавьте в [таблицу](https://docs.google.com/spreadsheets/d/1No0VKB59etGyTJoC7OnlJcVkIbSZDKy2_yiv2jPc49Y/edit?usp=sharing) 
* сведения о вашей записи, таймкоды фрагмента, который вы будете размечать, дайте название записи 
* имя файла с разрешением - если вы скачали запись, назовите ее внятным именем (в латинице). У ELAN есть некоторые [ограничения](https://www.mpi.nl/corpus/html/elan/ch04s01.html) на форматы видео-файлов, но в целом все широкораспространенные форматы поддерживаются. 
* данные о ВСЕХ говорящих, которые сказали более 10 слов подряд в выбранном вами фрагменте, включая проходивших мимо операторов и проч. 
* ник говорящего должен иметь вид `@psn2001m` (латиницей), сначала собачка, потом инициалы (в порядке имя-отчество-фамилия), потом год рождения, потом пол говорящего (m - мужской, f - женский). 
Если отчество отсутствует, год рождения неизвестен, пол вы не затрудняетесь определить, можно ограничиться более простой записью вида @a2000, указав гипотетический год рождения 

Если говорящих в выбранном фрагменте несколько (в том числе это можете быть вы или человек за кадром), заполняйте следующие строки в таблице сразу под строкой с названием файла.   
Если видеороликов или выделенных фрагментов в ролике несколько, также добавляйте новые строки.   

### Папка для проекта   
* `livecorpus` (все строчными буквами) - папка в вашем репозитории курса (lingdata), сюда кладем `.eaf` файл. 
* Напомним, один из способов создать папку на GitHub - в вашем репозитории GitHub выбрать  
  * `Add file` > `Create new file` > создать файл с именем `livecorpus/readme.md`> `Commit`  
* Имя файла с видео и имя файла разметки должны соответствовать `латинской метке` из таблицы метаданных, например, для метки `kalinkin` - файлы `kalinkin.mp4` и `kalinkin.eaf`.  
* Метки говорящих в слоях должны строго соответствовать их меткам в таблице метаданных.  
(Советы: ELAN по умолчанию сохраняет .eaf файл в кодировке Юникод (UTF8), не меняйте ее.  Не используйте кириллицу в названиях папок на пути к редактору ELAN, мультимедийным файлам и файлам, которые создает ELAN.)   

### Расшифровка в ELAN 
Что предстоит:  
* разметить фрагмент вашего интервью, разделив речь говорящих на реплики (ЭДЕ) и расшифровав их в аннотациях (каждого говорящего - в отдельном слое)    
* создать новый `Тип` слоя - translation и слои переводов реплик для каждого говорящего, дать переводы для расшифрованных реплик     
* объем разметки на оценку - минимум 1 минута.      

#### 1. Настройка проекта  

* Cоздайте новый проект, подключите к нему видеофайл, сохраните файл разметки, назвав согласно метке     

* Если вы хотите использовать визуализацию звуковой дорожки в ELAN, переконвертируйте ваше видео в *.wav - файл (с помощью любого онлайн-конвертора, погуглите, например, "mpg to wav online"). 
В этом случае присоедините сразу видео и аудио к новому проекту.  

* Импортируйте типы слоев из образца ([.eaf файл](https://github.com/olesar/lingdata/blob/gh-pages/data/elan_livecorpus_template.eaf)): Тип > Импорт...      

* Создайте слой реплик для каждого говорящего: Слой > Новый...   

```
Установите свойства слоя (для говорящего @aaa1988f так, но вы укажите ники ваших говорящих):  
* Название слоя `text@aaa1988f`  
* Родительский слой - none   
* Тип - utterance  
Обязательно заполните поля "говорящий" (@aaa1988f), "разметчик" (латиницей - например, название вашего аккаунта на GitHub), язык по умолчанию (русский).  
```

#### 2. Разметка реплик

* Сделайте слой активным для разметки (дабл-клик на его названии в левой части экрана)  
* Прослушайте фрагмент, определите приблизительное время начала и конца реплики.  
* Кликните в слое на месте начала релики - туда переместится бегунок - красная вертикальная полоса.  
* Создайте аннотацию, проведя мышкой с зажатой кнопкой от начала до конца отрезка.  
* Два раза кликните посередине, - и вы сможете вписать расшифровку. Нажмите Enter.   
* Повторно прослушайте фрагмент, уточните время начала и конца реплики, отредактируйте аннотации, если нужно.   
Ниже мы даем советы по расшифровке, прочитайте их внимательно.  

``` 
* ALT + потянуть мышкой в середине аннотации -- чтобы подвинуть всю аннотацию влево/вправо  
* ALT + потянуть мышкой на левой/правой границе аннотации -- чтобы подвинуть левую/правую границу  
* ALT + d - удалить реплику (работает также копипейст и контекстное меню по правой кнопке мышки)  
* Двойной клик - редактировать содержание   
* Shift + Space -- проиграть выделенную аннотацию    
В выделенной аннотации:
* Аннотация > Разбить... - разобъет посередине на две  
Чтобы разбить в конкретном месте аннотации, в контекстном меню выбрать Разбить аннотацию...
* Аннотация > Объединить со следующей / c предыдущей  
```

Совет 1: не забудьте установить замедленное проигрывание: Регулировка > Скорость... Не забывайте **регулярно сохранять** файл.  
Совет 2: если в Опциях выбрать метод сдвига таймкодов Bulldozer Mode, то при вставке новых реплик реплика справа, на которую вы случайно "наехали" по таймкоду, не будет стираться, а сдвинется вправо.  
Совет 3: если вы пишете не очень грамотно, экспортируйте файл с разметкой в текст с разделителями (Файл > Экспорт) и проверьте его в любом сервисе проверки орфографии. Это сохранит много сил на следующих этапах работы.  


#### 3. Переводы реплик   

* Создайте новый `Тип` слоя - translation, указав для него стереотип Symbolic association.    
* Создайте дочерний слой перевода под названием вида `transl@aaa1988f` для каждого слоя text, заполнив поля "говорящий" и "разметчик" и указав дефолтный язык - английский    
Важно - у слоя перевода должен быть указан соответствующий родительский слой text...   
* Впишите переводы для расшифрованных реплик в появившихся аннотациях.  

#### 4. Сохраните файл .eaf, залейте на гитхаб  


### Об особенностях расшифровки записей  

Расшифруйте запись так, как вы ее слышите, отражая все оговорки, неправильности, порядок слов, сниженную лексику, если есть. 
Фиксируйте все оговорки, фальстарты и прочие шероховатости спонтанной речи. Вставьте междометия, поддерживающие разговор (_ага_, _ну_), слова-паразиты (_гм_, _ммм_, _эээ_), недоговоренные слова (_и тут она по... вышла_), запинки (_гово... сказала_) - т. е. все, что вы можете расслышать.
В конце реплики поставьте пробел и двойной слэш (точки ставить не надо), микропаузы внутри реплики обозначайте одинарным слэшем.
  
Примеры расшифровок: 
```
там спрашивают фамилию-то 
я сказала / Поликарпова ты с какого года?
ну / это / ро... родители сказали
а / ну да / ну да // эээ
```

Расшифровка записывается в стандартной русской орфографии.

Букву ё (не "е") следует писать только если она является смыслоразличительной (все-всё, небо-нёбо и т.д.)

Если говорящий говорит очень долго совсем без пауз, ориентируйтесь на синтаксическую и смысловую структуру, интонацию, чтобы разбить его речь на реплики.  

* __Аббревиатуры__ записываются обычным образом (ср. ЦСКА)  
* __Неразборчиво__. Если текст в том или ином месте не удается разобрать, то пишите `#нрзб#` (в решетках, без пробелов, именно эти четыре буквы)   
* __Одновременно__. Когда говорят несколько человек одновременно и разобрать ничего не удается, нужно использовать ремарку `#одновременно#` 
В случаях невербального общения (например, общий гул без ясно вычлененных реплик, смех, хмыканье) допустимо поставить отдельную реплику, например, `#смеется#`. 
Увлекаться комментированием всех действий, в том числе заполняющих паузы ("берет сковородку", "долго глядит в окно") не нужно. Пожалуйста, не используйте пробелы внутри ремарок. 
* __Что__. _Что_ в устной речи стандартно произносится как _што_, но записывать его нужно в стандартной орфографии (т. е. _что_). Это относится ко всем другим случаям стандартных расхождений между орфографией и произношением.  
* __Щас__. Варианты частиц (_сейчас_, _щас_, _ща_) в расшифровке различаются.  
* __Ммм__. Запись междометий как _м_, _мм_ или _ммм_ мы оставляем на ваше усмотрение, но для растянутого произнесения лучше не использовать более трех одинаковых буквы подряд. Растянутое произнесение гласных в других словах отображать в расшифровке не надо.     
* Индивидуальные особенности произнесения. Если говорящий имеет акцент, региональные особенности, шепелявит и т. д., то есть его речь системно отличается от литературного стандарта, отражать эти особенности в расшифровке не нужно.  
* __Речевые маски и искажения__. Другое дело - если говорящий в отдельных словах изображает "кавказский", "чукотский" и т. п. акцент или специально искажает слово, тогда попытайтесь это отобразить в расшифровке (например, _дэушка_ или _облизьяна_).   
* Особые знаки препинания: используйте `!`, `?` для обозначения восклицательных и вопросительных реплик, а также `...` для обозначения обрыва слова. 
* __Кавычки__ убедительно просим не использовать в разметке, тексты с ними потом тяжело обрабатывать (пишите _стадион Динамо_ без кавычек)   
* __Заглавные буквы__ нужны только в именах собственных  

Примечание: Мы во многом, но не во всем, ориентируемся на правила расшифровки в [Мультимедийном корпусе](https://processing.ruscorpora.ru/search.xml?env=alpha&env=alpha&api=1.0&mycorp=&mysent=&mysize=&mysentsize=&dpp=&spp=&spd=&mydocsize=&mode=murco&lang=ru&sort=i_grtagging&nodia=1&text=lexgramm&ext=10&nolinks=1&ell=1&parent1=0&level1=0&lex1=%D0%B2%D0%BE) Национального корпуса русского языка. 

### Об особенностях перевода
Оформление должно соответствовать русским репликам (маркеры пауз и т.д). Примеры перевода маркеров хезитации можно посмотреть в параллельном русско-английском корпусе НКРЯ.

Примеры реплик и переводов:
```
ну они этого не скажут
well they will not say that

так что аа / разные признаки менялись неодинаково
so err / different traits changed differently

э какой ген за это отвечает?
eh which gene is in charge for that?
```

### Бонусное задание   
Идеально выполненное домашнее задание оценивается в 8 баллов. Бонусное задание не является обязательным и позволяет получить 9-10 баллов, если основная часть выполнена на 8.
Выполнение бонусного задания требует много времени. Ассистенты не консультируют по поводу бонусных заданий.   

Так выглядит гораздо более сложная разметка реплик в корпусе "[Рассказы о сновидениях](http://www.spokencorpora.ru/showtrans.py?file=00dreams/NDS_021-m-z)".  
Изучите [правила](http://www.spokencorpora.ru/showtranshelp.py) упрощённой (не полной, не минимальной) транскрипции и выполните расшировку 1 минуты вашего фрагмента согласно им.   
В ELAN для таких транскриций нужно создать новые слои с названием вида `spokencorpora@aaa1988f`.    
